# 🔁 음성 데이터 전처리 과정 (Preprocessing Pipeline)

---
ASR(자동 음성 인식) 모델의 성능을 극대화 하기 위해서는 **`고품질의 전처리 과정`** 이 필수입니다.
이 과정은 음성 파일을 모델이 학습 가능한 형태로 정제·변환하는 작업입니다.

---

## 🧱 1. 형식 정리 및 리샘플링 (Resampling)
- 다양한 형식(mp3, wav, m4a 등)을 **표준 형식**으로 통일
- 일반적으로 **16kHz, mono 채널, .wav 형식**이 기준
- 'ffmpeg', 'torchaudio', 'sox' 등을 사용

###  🔧 예시 (ffmpeg)
```bash
ffmpeg -i input.mp3 -ar 16000 -ac 1 output.wav
```
---

## 🔇 2. 무음 제거 (Silence Trimming)
- 앞/뒤/중간의 긴 무음 구간 제거
- 학습 데이터의 효율성과 정확도 향상
- **VAD(Voice Activity Detection)** 또는 단순 energy threshold 기반 <br>
🔧 예시 (torchaudio)
```python
import torchaudio
waveform, sr = torchaudio.load("audio.wav")
trimmed = torchaudio.functional.vad(waveform, sample_rate=sr)
```
---

## 🔊 3. 볼륨 정규화 (Volume Normalization)
- 각 오디오 간의 불륨 차이 보정
- 전체 음성의 **신호 강도(Signal Amplitude)**를 비슷하게 맞춤 <br>
🔧 예시
```python
normalized = waveform / waveform.abs().max()
```
---

## ✂️ 4. 클립 분할 (Segmentation)
- 긴 음성 파일을 문장 단위로 분할
- 자막 또는 주석 파일(JSON, TSV 등)을 활용 <br>
🔧 예시 (자막 JSON 기반)
```json
{
  "segments": [
    { "start": 0.0, "end": 3.5, "text": "안녕하세요." },
    { "start": 3.5, "end": 7.0, "text": "오늘은 날씨가 좋습니다." }
  ]
}
```
---







